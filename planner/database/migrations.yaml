mysql:
  types:
    handle:       varchar(24) not null
    name:         varchar(24)
    text:         text
    datetime-utc: datetime
    boolean:      bool
    rating:       tinyint
    amount:       bigint
    latlong:      json
    enum:         enum
    url:          text

enums:
  hashtype:
    - password
    - resetcode

  timeframe:
    - research
    - plan
    - travel
    - done

  owner:
    - admin
    - traveler

  infotype:
    - religion
    - islands
    - landmass
    - weather


tables:

  owners:
    columns:
      handle:     handle
      email:      text
      active:     boolean
      type:       enum(owner)
      created-at: datetime-utc
    index: handle

  hashes:
    columns:
      handle: handle
      owner:  handle
      type:   enum(hashtype)
      valid:  boolean
      hash:   text
      created-at: datetime-utc
      last-used:  datetime-utc
    trigger:
      deleted: owners--owner

  holidays:
    columns:
      handle: handle
      owner:  handle
      name:   text
      stage:  enum(timeframe)
      start-date: datetime-utc
      end-date:   datetime-utc
    index:
      - handle
      - owner
    trigger:
      deleted: owners--owner

  continents:
    columns:
      handle:   handle
      name:     text
      type:     name
      topleft:  latlong
      botright: latlong

  countries:
    columns:
      handle:    handle
      continent: handle
      name:      text
      topleft:   latlong
      botright:  latlong
      flag:      url
      people:    amount

  country-pivot:
    columns:
      holiday: handle
      country: handle
      owner:   handle
      stars:   rating
    trigger:
      deleted: owners--owner

  informations:
    columns:
      country: handle
      handle:  handle
      type:    enum(infotype)
      info:    text

